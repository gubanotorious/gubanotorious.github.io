(window.webpackJsonp=window.webpackJsonp||[]).push([[63],{164:function(e,t,r){"use strict";r.r(t),r.d(t,"frontMatter",(function(){return s})),r.d(t,"metadata",(function(){return o})),r.d(t,"rightToc",(function(){return p})),r.d(t,"default",(function(){return l}));var a=r(1),i=r(6),n=(r(0),r(176)),s={id:"messaging-claimsimport",title:"Claims Import",sidebar_label:"Claims Import"},o={id:"messaging-claimsimport",title:"Claims Import",description:"The claims import protocol is used by a passport that wishes to sign and provide an encrypted claim package to be imported to another passport.  This is the protocol used by all Bridge Marketplace providers to issue and transmit secure claims.\r",source:"@site/docs\\messaging-claimsimport.md",permalink:"/docs/messaging-claimsimport",sidebar_label:"Claims Import",sidebar:"gettingStarted",previous:{title:"Authentication",permalink:"/docs/messaging-auth"},next:{title:"Payment",permalink:"/docs/messaging-payment"}},p=[{value:"Creating a Claims Import Request",id:"creating-a-claims-import-request",children:[]},{value:"Verifying the Claims Import Request",id:"verifying-the-claims-import-request",children:[]}],c={rightToc:p};function l(e){var t=e.components,r=Object(i.a)(e,["components"]);return Object(n.b)("wrapper",Object(a.a)({},c,r,{components:t,mdxType:"MDXLayout"}),Object(n.b)("p",null,"The claims import protocol is used by a passport that wishes to sign and provide an encrypted claim package to be imported to another passport.  This is the protocol used by all Bridge Marketplace providers to issue and transmit secure claims."),Object(n.b)("img",{class:"centered",src:"/img/message-claimsimport.png"}),Object(n.b)("hr",null),Object(n.b)("h2",{id:"creating-a-claims-import-request"},"Creating a Claims Import Request"),Object(n.b)("p",null,"The verification provdier will create the import request to allow the recipient passport to accept and import the claims"),Object(n.b)("pre",null,Object(n.b)("code",Object(a.a)({parentName:"pre"},{}),"let claimsImportRequest = await Bridge.Messaging.Claim.createClaimsImportRequest(passport, password, claimPackages);\n")),Object(n.b)("ul",null,Object(n.b)("li",{parentName:"ul"},Object(n.b)("strong",{parentName:"li"},"claimPackages")," - the signed and encrypted claim packages to be sent to the target passport"),Object(n.b)("li",{parentName:"ul"},Object(n.b)("strong",{parentName:"li"},"claimsImportRequest")," - the claims import request message")),Object(n.b)("hr",null),Object(n.b)("h2",{id:"verifying-the-claims-import-request"},"Verifying the Claims Import Request"),Object(n.b)("p",null,"The recieving passport will verify the integrity of the import request by ensuring the message was signed by the verified passport that transmitted the import request.  The claim packages will be verified for integrity and available to import to the receiving passport."),Object(n.b)("pre",null,Object(n.b)("code",Object(a.a)({parentName:"pre"},{}),"let verifiedImportRequest = await Bridge.Messaging.Claim.verifyClaimsImportRequest(claimsImportRequest);\nlet passportDetails = await Bridge.Services.Passport.getDetails(passport, password, verifiedImportRequest.passportId);\nlet verifiedClaimPackages = await Bridge.Utils.Claim.verifyClaimPackagesForImport(passport, password, verifiedImportRequest.payload.claimsImportRequest.claimPackages);\n")),Object(n.b)("ul",null,Object(n.b)("li",{parentName:"ul"},Object(n.b)("strong",{parentName:"li"},"claimsImportRequest")," - the received claims import request message"),Object(n.b)("li",{parentName:"ul"},Object(n.b)("strong",{parentName:"li"},"verifiedImportRequest")," - the integrity verified data transmitted via the claims import request message"),Object(n.b)("li",{parentName:"ul"},Object(n.b)("strong",{parentName:"li"},"passportDetails")," - the information received from the Bridge Network about the passport that sent the request message"),Object(n.b)("li",{parentName:"ul"},Object(n.b)("strong",{parentName:"li"},"verifiedClaimPackages")," - the claim packages that have been verified for integrity that are ready for import to the receiving passport.")))}l.isMDXComponent=!0},176:function(e,t,r){"use strict";r.d(t,"a",(function(){return m})),r.d(t,"b",(function(){return d}));var a=r(0),i=r.n(a);function n(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function s(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,a)}return r}function o(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?s(Object(r),!0).forEach((function(t){n(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):s(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function p(e,t){if(null==e)return{};var r,a,i=function(e,t){if(null==e)return{};var r,a,i={},n=Object.keys(e);for(a=0;a<n.length;a++)r=n[a],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);for(a=0;a<n.length;a++)r=n[a],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}var c=i.a.createContext({}),l=function(e){var t=i.a.useContext(c),r=t;return e&&(r="function"==typeof e?e(t):o({},t,{},e)),r},m=function(e){var t=l(e.components);return i.a.createElement(c.Provider,{value:t},e.children)},u={inlineCode:"code",wrapper:function(e){var t=e.children;return i.a.createElement(i.a.Fragment,{},t)}},b=Object(a.forwardRef)((function(e,t){var r=e.components,a=e.mdxType,n=e.originalType,s=e.parentName,c=p(e,["components","mdxType","originalType","parentName"]),m=l(r),b=a,d=m["".concat(s,".").concat(b)]||m[b]||u[b]||n;return r?i.a.createElement(d,o({ref:t},c,{components:r})):i.a.createElement(d,o({ref:t},c))}));function d(e,t){var r=arguments,a=t&&t.mdxType;if("string"==typeof e||a){var n=r.length,s=new Array(n);s[0]=b;var o={};for(var p in t)hasOwnProperty.call(t,p)&&(o[p]=t[p]);o.originalType=e,o.mdxType="string"==typeof e?e:a,s[1]=o;for(var c=2;c<n;c++)s[c]=r[c];return i.a.createElement.apply(null,s)}return i.a.createElement.apply(null,r)}b.displayName="MDXCreateElement"}}]);